<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>Random (and probably useless) Rubyisms</title>

    <meta name="description" content="Random (and probably useless) Rubyisms">
    <meta name="author" content="Miguel Palhas">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="css/reveal.min.css">
    <link rel="stylesheet" href="css/theme/custom.css" id="theme">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- If the query includes 'print-pdf', include the PDF print sheet -->
    <script>
      if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = 'css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
      }
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="reveal">

<!-- Any section element inside of this container is displayed as a slide -->
<div class="slides">
<section data-markdown><script type="text/template">
# Random
# (and probably useless)
# Rubyisms
</script></section>


<section data-markdown><script type="text/template">
# Miguel Palhas

`@naps62`
![gb logo](img/groupbuddies.png)
</script></section>


<section data-markdown><script type="text/template">
# Disclaimer

* Some of these might really be useless
* There are probably better solutions
* They're still interesing, so what the hell...
</script></section>


<section data-markdown><script type="text/template">
# `attr_accessor`

```ruby
class X
  def attr_reader :something
end

class Y
  def something; @something; end
end
```
</script></section>


<section data-markdown><script type="text/template">
# Inline `rescue`

```ruby
user = { first_name: 'Professor' }
user[:last_name].underscore                   # NoMethodError for nil:NilClass
user[:last_name].underscore rescue "CHIBANGA" # falls back to "CHIBANGA"
```
</script></section>


<section data-markdown><script type="text/template">
# Retry

Calls the `(begin..rescue)`block once again
```
def insist(max_attempts: 3, &block)
  begin
    attempts = 0
    yield
  rescue SomeException => e
    attempts += 1
    retry if attempts < max_attempts
  end
end
```
</script></section>


<section data-markdown><script type="text/template">
# Lambdas quack like hashes

```ruby
fibs = -> x { (x <= 1) ? 1 : fibs[x-1] + fibs[x-2] }

fibs.call(20)
```

But also:

```ruby
fibs[20]
```
</script></section>


<section data-markdown><script type="text/template">
# Faster RegEx extraction

```ruby
str = "GB is not Great Britain"

# the usual way
match_results = str.match /(GB)/
match_results[1]
=> "GB"
```

But also:

```ruby
str[/(GB)/, 1]
```
</script></section>


<section data-markdown><script type="text/template">
# Array or single element?

```ruby
class Post < ActiveRecord::Base; end

result  = Post.find(1)
=> #<Post:...>

results = Post.find(1, 2)
=> [#<Post:...>, #<Post:...>]
```
</script></section>


<section data-markdown><script type="text/template">
# What if we don't know?

```ruby
results = Post.find(*ids)

[*result].map do |post|
  # ...
end
```
</script></section>


<section data-markdown><script type="text/template">
# Unary operators

+, -, ! and ~ can be overriden
</script></section>


<section data-markdown>
<script type="text/template">
```ruby
class Counter
  def initialize
    @value = 0
  end

  def +@
    @value += 1
  end

  def -@
    @value -= 1
  end

  def !
    @value = 0
  end

  def ~
    @value
  end
end
```
</script>
</section>


<section data-markdown>
<script type="text/template">
# Method Madness
</script>
</section>


<section data-markdown>
<script type="text/template">
```ruby
def m1(a, b=1)        # correct
def m2(a=1, b)        # correct (most languages only support optional args at the end
def m3(a, b=2, c)     # correct
def m4(a=1, b, c=3)   # wrong (optional args must be sequential)
def m5(a, b=2, *args) # correct
def m6(a=1, b, *args) # wrong
```
</script>
</section>


<section data-markdown>
<script type="text/template">
# Method Madness pt. 2

```ruby
def m7(*args, c)      # correct

def tail(*args, last)
  last
end
```
</script>
</section>


<section data-markdown>
<script type="text/template">
# Modules

```ruby
class MyClass
end
```

<img src="modules_1.svg" />
</script>
</section>


<section data-markdown>
<script type="text/template">
# Modules

```ruby
module MyModule; end

class MyClass
  include MyModule
end
```

<img src="modules_2.svg" />
</script>
</section>


<section data-markdown>
<script type="text/template">
# Modules

```ruby
module MyModule; end
module AnotherModule; end

class MyClass
  include MyModule
  include AnotherModule
end
```

<img src="modules_3.svg" />
</script>
</section>


<section data-markdown>
<script type="text/template">
# Modules

```ruby
module Prepended; end

class MyClass
  prepend Prepended
end
```

<img src="modules_3.svg" />
</script>
</section>


<section data-markdown>
<script type="text/template">
# Lexical Scope

```ruby
def m; end
```

defined in the global scope (actually an instance of Object)
</script>
</section>


<section data-markdown>
<script type="text/template">
# Lexical Scope

```ruby
def Array.m; end
```

defined in the scope of the Array class

```ruby
class method of Array
```
</script>
</section>


<section data-markdown>
<script type="text/template">
# Lexical Scope

```ruby
array = Array.new
def array.m; end
```

defined in the scope this single instance
instance method of array, not shared with other instances
</script>
</section>


<section data-markdown>
<script type="text/template">
```ruby
class << self
```
</script>
</section>


<section data-markdown>
<script type="text/template">
# Hashes
</script>
</section>
</div>
</div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.min.js"></script>

    <script>

      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: false,
        progress: true,
        history: true,
        center: true,
        overview: false,

        theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || 'page', // default/cube/page/concave/zoom/linear/fade/none

        // Parallax scrolling
        // parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
        // parallaxBackgroundSize: '2100px 900px',

        // Optional libraries used to extend on reveal.js
        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
          { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
      });

    </script>

  </body>
</html>
